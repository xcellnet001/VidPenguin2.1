<!-- Sidebar -->
<div class="col-md-2 col-lg-2">
 <h4>Need help ?</h4> <p>Check our Facebook group</p>
    <a class="btn btn-info btn-block" href="https://www.facebook.com/groups/VidPenguinBetaGroup/" target="_blank"><i class="fa fa-facebook"></i> VidPenguin</a>
    <hr>
    <p>Prefer to email ?</p>
    <a class="btn btn-success btn-block" href="mailto:support@vidpenguin.com"><i class="fa fa-envelope-o"></i> support</a>
    <br>
    <a target="_blank" href="http://vidpenguin.com/Coaching" ><img src="/images/VidPenguinCoachingCalls.jpg" width="100%"></a>
  </div>

<!-- Main -->
  <div class="col-md-10 col-lg-10">
    <div class="state-overview">
<!-- Stats display -->
      <div class="col-md-4 col-xs-12">
          <div class="symbol terques">
            <i class="fa fa-rss"></i><div class="value"> <h1 class="length">{{ (feeds).length }}  </h1> Video Feeds</div>
          </div>
      </div>
      <div class="col-md-4 col-xs-12">
          <div class="symbol red">
            <i class="fa fa-video-camera"></i>
          <div class="value">
            <h1 class="length">{{ (links | filter:{ v: feed.v, active: true}).length }}</h1>
            Links Pinged  </div>
          </div>
      </div>
      <div class="col-md-4 col-xs-12">
      <a href="/#/drip">
        <div class="symbol bluee">
          <i class="fa fa-coffee"></i>
          <div class="value">
            <h1 class="length">{{ (drips).length }}</h1>
            Social Starters Scheduled  </div>
        </div>
      </a>
      </div>
    </div>
    <!-- Top of main -->
    </div>
    <div class="col-md-10 col-lg-10">
      <h3>Video Feeds</h3>
      <!-- search filter -->
      <div class="col-md-6 col-lg-6">
        <form>
          <div class="form-group">
            <div class="input-group">
              <div class="input-group-addon"><i class="fa fa-search"></i></div>
              <input type="text" class="form-control" placeholder="Search RSS Feeds" ng-model="searchFeeds" ng-change="" uib-tooltip="Search Feed and Filter Feed ">
            </div>
          </div>
        </form>
      </div>

      <!-- ping video -->
      <div class="col-md-6 col-lg-6">

        <a href="/#/ping"  class="btn btn-primary pull-right" uib-tooltip="Ping video to add your feed">
          <i class="fa fa-bolt"></i>&nbsp; Ping Video</a>
        <button type="button" ng-csv="feeds" filename="VidPenguinfeeds.csv" class="btn btn-success pull-right" style="margin-right: 5px;" uib-tooltip="Download Video Feeds as CSV">
        <i class="fa fa-download"></i>
      </a>
      </div>

    </div>

<div class="col-md-10 col-lg-10">

      <div id="feeds">

          <table class="table table-striped table-hover">

            <!-- Header & Sort table -->

            <thead>
            <tr>
              <td width="15%"></td>
              <td>
                <a href="#/feeds" ng-click="sortType = 'title'; sortReverse = !sortReverse">
                  <b>Title
                  <span ng-show="sortType == 'title' && !sortReverse" class="fa fa-caret-down"></span>
                  <span ng-show="sortType == 'title' && sortReverse" class="fa fa-caret-up"></span></b>
                </a>
              </td>
              <td width="7%" ng-show="!showDetails" class="tdcenter">
              <a href="#/feeds" ng-click="sortType = 'count'; sortReverse = !sortReverse">
              <b>Count
                <span ng-show="sortType == 'count' && !sortReverse" class="fa fa-caret-down"></span>
                <span ng-show="sortType == 'count' && sortReverse" class="fa fa-caret-up"></span></b>
            </td>
              <td width="16%" ng-show="!showDetails">
                <a href="#/feeds" ng-click="sortType = 'date'; sortReverse = !sortReverse">
                <b>Date
                  <span ng-show="sortType == 'date' && !sortReverse" class="fa fa-caret-down"></span>
                  <span ng-show="sortType == 'date' && sortReverse" class="fa fa-caret-up"></span></b>
              </td>

              <td> </td>
            </tr>


            </thead>
            <tbody ng-repeat="feed in feeds | orderBy:'date':reverseorder | filter:searchFeeds">
          <tr>

            <!-- Opens Video -->

            <td width="15%"><a href ng-click="toggleDetail($index)" ><img src="{{ feed.thumb }}" class="img-thumbnail img-responsive" uib-tooltip="Click thumbnail to watch {{ feed.title }}"><div class="feed_vid_watch">WATCH</div></a>

            </td>

            <!-- Clicks through child links -->
            <td width="42%" ng-click="show.links = !show.links"><b>{{ feed.title }}</b>
            <br>


            </td>
            <td width="7%" ng-click="show.links = !show.links" class="tdcenter">{{ (links | filter:{ v: feed.v, active: true}).length }}</td>
            <td width="16%" ng-click="show.links = !show.links">{{feed.date | date:"MM/dd/yyyy '/' h:mma"}}</td>


            <!-- application actions -->
            <td class="feeds_actions">

              <a href ng-click="show.JSON = !show.JSON" class="feedtool" uib-tooltip="View JSON" >
                <img src="/images/images.jpg" width="36px">
              </a>
              <a href ng-click="show.XML = !show.XML" class="btn btn-primary feedtool" uib-tooltip="View XML/RSS" >
                <i style="width:12px;" class="fa fa-rss"></i>
              </a>
              <a href ng-click="show.Syndwire = !show.Syndwire" class="btn btn-warning feedtool" uib-tooltip="Promote with Syndwire">
                <i style="width:12px;" class="fa fa-rocket"></i>
              </a>
              <a href ng-click="show.indexer = !show.indexer" class="btn btn-info feedtool" uib-tooltip="Send to Indexers">
                <i style="width:12px;" class="fa fa-line-chart"></i>
              </a>
              <a href ng-click="show.booster = !show.booster" class="btn btn-info feedtool" uib-tooltip="Power Booster">
                <i style="width:12px;" style="width:14px;" class="fa fa-bolt"></i>
              </a>
              <a href ng-click="show.booster = !show.booster" class="feedtool" uib-tooltip="Pro Rank Tracker">
              <img src="/images/pro-rank-tracker-5f26ac-w240.png" width="36px">
                </a>
              <button type="button" ng-csv="links | filter:{ vid: feed.v}" filename="VidPenguinfeeds.csv" class="btn btn-success feedtool" uib-tooltip="Download feed as CSV">
                <i style="width:12px;" class="fa fa-download"></i>
               </button>
              <a href ng-click="show.drip = !show.drip" class="btn btn-primary feedtool" uib-tooltip="Drip Social Record">
                <i style="width:12px;" class="fa fa-coffee"></i>
              </a>
              <a href="#/feed/{{feed.$id}}" class="btn btn-primary feedtool" uib-tooltip="View All Links">
                <i style="width:12px;" class="fa fa-pencil"></i>
              </a>
              <a href="#/feeds" ng-click="feeds.$remove(feed, deleteIt)" class="btn btn-danger feedtool" uib-tooltip="Delete Record">
                <i style="width:12px;" class="fa fa-trash"></i></a>

            </td>



          </tr>
          <!-- Modal Video -->
          <tr ng-show="activePosition == $index">
          <td colspan="3"><youtube-video video-url="feed.url"  player-width="'100%'" player-width="'100%'"  player="bestPlayer"></youtube-video></td>
            <td colspan="2">
              <h4><b>Video Title:</b> {{ feed.title }}</h4>

            </td>
          </tr>

          <!-- Tools & links -->
          <tr ng-show="show.links" >
            <td colspan="5">
              <!-- Tools -->


            </td>

          </tr>

          <tr ng-show="show.links" ng-repeat="link in links | filter:{ vid: feed.$id, active: true}" class="links">

            <td colspan="1" class="link_row_fill">

              <!-- If t value is greater than zero -->
                 <a href="{{link.url}}{{feed.v}}&t={{feed.t}}" ng-if="feed.t > 0" target="_blank" class="btn btn-primary feedtool" uib-tooltip="Open Link">
                  <i class="fa fa-youtube-play"></i></a>
              <!-- If t value = zero or is null -->
                <a href="{{link.url}}{{feed.v}}" ng-if="feed.t == 0" target="_blank" class="btn btn-primary feedtool" uib-tooltip="Open Link">
                <i class="fa fa-youtube-play"></i></a>
              <!-- delete link ** needs confirm ** -->
                <a href="#/feeds" ng-click="links.$remove(link, confirm)" class="btn btn-danger feedtool" uib-tooltip="Delete Link">
                <i style="width:12px;" class="fa fa-trash"></i></a>

              <a href ng-click="addDrip(link)" class="btn btn-warning feedtool" uib-tooltip="Drip Social Starter">
                <i  class="fa fa-coffee"></i>
              </a>            </td>
                <td colspan="2" >

                <div class="link_header">{{link.title}}</div>
                <div class=""><b>Link id</b> :: {{link.id}}</div>

                <div ng-repeat="drip in drips | filter:{linkID: link.$id}">
              <b>Schedule Social Starter</b> :: <!-- <a href="/#/drip/#{{drip.$id}}"> -->{{ drip.$id }}</a>


              </div>

            </td>

            <td colspan="2" ng-init="limit = 200">

                    {{link.desc | limitTo: limit}}
              {{link.$index}}



            </td>

          </tr>


          <!-- Show JSON -->
          <tr ng-show="show.JSON" class="JSON">
            <td colspan="5">
              <h3>JSON</h3>
                <div ui-codemirror ui-codemirror-opts="editorOptions">
             {
                  "title":"{{feed.title}}","link": "{{feed.url}}"
              <div ng-repeat="link in links | filter:{ vid: feed.$id, active: true}">
                "link":"{{link.url}}{{link.v}}","title":"{{link.title}}", "description":{{link.desc}}
              </div>
                }

                  </div>


            </td>
          </tr>


          <!-- Show XML -->
          <tr ng-show="show.XML" class="XML">
            <td colspan="5">
              <h3>XML</h3>
                <div ui-codemirror ui-codemirror-opts="editorOptions">

               <rss xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:wfw="http://wellformedweb.org/CommentAPI/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:sy="http://purl.org/rss/1.0/modules/syndication/" xmlns:slash="http://purl.org/rss/1.0/modules/slash/" version="2.0">
                 <channel>
                   <title>{{feed.title}}</title>
                   <description></description>
                   <link>{{feed.url}}</link>
                      <div ng-repeat="link in links | filter:{ vid: feed.$id, active: true}">
                        <item>
                          <title>{{link.title}}</title>
                          <description>{{link.desc}}</description>
                          <link>{{link.url}}{{link.v}}</link>
                        </item>
                      </div>
                 </channel>
                 </rss>

                 </div>

            </td>
          </tr>

          <!-- Syndwire -->
          <tr ng-show="show.Syndwire" class="Syndwire">
            <td colspan="5">Silly Syndwire</td>
          </tr>

          <!-- Add Drip -->
          <tr ng-show="show.drip" class="drip">

            <td colspan="4">

              <P>Schedule a drip for this video</P>

            </td>
            <td colspan="1">
              <a href ng-click="addDrips()" class="btn btn-primary pull-right" uib-tooltip="Drip Social Record">
                <i  class="fa fa-coffee"> Schedule All URLS for Drip</i>
              </a>
            </td>
          </tr>

          <tr ng-show="show.drip" class="drip" >
            <td colspan="1"></td>
            <td colspan="1" >

             <b>Frequency:</b>
               <select
                       data-ng-model="frequency"
                       data-ng-options="et for et in frequency" class="dropdown pull-right">
               </select>





                </div>
            </td>
            <td colspan="2" >

            <div class="uib-dropdown"><b>Target: </b>
                <select
                        data-ng-model="target"
                        data-ng-options="tg for tg in target" class="dropdown pull-right">
                </select>
               </div>
            </td>
            <td colspan="1">


            </td>
          </tr>

          <!-- Indexer control -->
          <tr ng-show="show.indexer" class="indexer">
            <td colspan="3">Choose your indexer text or have damon do a video walking through this part of the tool</td>
            <td colspan="2">
          <select class="form-control input-lg" multiple="" name="pingers[]">
            <option selected="" value="pinger-lp">LinkProcessor - Integrated</option>
            <option selected="" value="pinger-bli">BacklinksIndexer</option>
            <option selected="" value="pinger-ci">CrazyIndexer</option>
            <option selected="" value="pinger-li">LinkIndexr</option>
          </select>

          <div class="form-group btn-group pull-right">
            <input class="btn btn-warning" type="reset" value="Reset">
            <input class="btn btn-primary" type="submit" value="Submit">
          </div>
            </td>
          </tr>

          <!-- Power Booster control -->
          <tr ng-show="show.booster" class="indexer">
            <td colspan="3">Choose your booster or have damon do a video walking through this part of the tool</td>
            <td colspan="2">
              <select class="form-control input-lg" multiple="" name="pingers[]">
                <option selected="" value="pinger-lp">LinkProcessor - Integrated</option>
                <option selected="" value="pinger-bli">BacklinksIndexer</option>
                <option selected="" value="pinger-ci">CrazyIndexer</option>
                <option selected="" value="pinger-li">LinkIndexr</option>
              </select>

              <div class="form-group btn-group pull-right">
                <input class="btn btn-warning" type="reset" value="Reset">
                <input class="btn btn-primary" type="submit" value="Submit">
              </div>
            </td>
          </tr>

          </tbody>

        </table>

    </div>

      <!-- No Data makes us sad -->
    <div id="feeds" ng-show="!feeds.length">You have no feeds and that makes us sad. Please click ping video to add a video and start your feeds. </div>
    <p class="alert alert-danger" ng-show="err">{{err}}</p>
  </div>







