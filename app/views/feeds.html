<!-- Sidebar -->
<div class="col-md-2 col-lg-2">
 <h4>Need help ?</h4> <p>Check our Facebook group</p>
    <a class="btn btn-info btn-block" href="https://www.facebook.com/groups/VidPenguinBetaGroup/" target="_blank"><i class="fa fa-facebook"></i> VidPenguin</a>
    <hr>
    <p>Prefer to email ?</p>
    <a class="btn btn-success btn-block" href="mailto:support@vidpenguin.com"><i class="fa fa-envelope-o"></i> support</a>
    <br>
    <a target="_blank" href="http://vidpenguin.com/Coaching" ><img src="/images/VidPenguinCoachingCalls.jpg" width="100%"></a>
  </div>

<!-- Main -->
  <div class="col-md-10 col-lg-10">
    <div class="state-overview">
<!-- Stats display -->
      <div class="col-md-4 col-xs-12">
          <div class="symbol terques">
            <i class="fa fa-rss"></i><div class="value"> <h1 class="length">{{ (feeds).length }}  </h1> Video Feeds</div>
          </div>
      </div>
      <div class="col-md-4 col-xs-12">
          <div class="symbol red">
            <i class="fa fa-video-camera"></i>
          <div class="value">
            <h1 class="length">{{ (links | filter:{ v: feed.v, active: true}).length }}</h1>
            Links Pinged  </div>
          </div>
      </div>
      <div class="col-md-4 col-xs-12">
      <a href="/#/drip">
        <div class="symbol bluee">
          <i class="fa fa-coffee"></i>
          <div class="value">
            <h1 class="length">{{ (drips).length }}</h1>
            Social Starters Scheduled  </div>
        </div>
      </a>
      </div>
    </div>
    <!-- Top of main -->
    </div>
    <div class="col-md-10 col-lg-10">
      <h3>Video Feeds</h3>
      <!-- search filter -->
      <div class="col-md-6 col-lg-6">
        <form>
          <div class="form-group">
            <div class="input-group">
              <div class="input-group-addon"><i class="fa fa-search"></i></div>
              <input type="text" class="form-control" placeholder="Search RSS Feeds" ng-model="searchFeeds" ng-change="" uib-tooltip="Search Feed and Filter Feed ">
            </div>
          </div>
        </form>
      </div>

      <!-- ping video -->
      <div class="col-md-6 col-lg-6">

        <a href="/#/ping"  class="btn btn-primary pull-right" uib-tooltip="Ping video to add your feed">
          <i class="fa fa-bolt"></i>&nbsp; Ping Video</a>
        <button type="button" ng-csv="feeds" filename="VidPenguinfeeds.csv" class="btn btn-success pull-right" style="margin-right: 5px;" uib-tooltip="Download Video Feeds as CSV">
        <i class="fa fa-download"></i>
      </a>
      </div>

    </div>

<div class="col-md-10 col-lg-10">

      <div id="feeds">

          <table class="table table-striped table-hover">

            <!-- Header & Sort table -->

            <thead>
            <tr>
              <td width="15%"></td>
              <td>
                <a href="#/feeds" ng-click="sortType = 'title'; sortReverse = !sortReverse">
                  <b>Title
                  <span ng-show="sortType == 'title' && !sortReverse" class="fa fa-caret-down"></span>
                  <span ng-show="sortType == 'title' && sortReverse" class="fa fa-caret-up"></span></b>
                </a>
              </td>
              <td width="7%" ng-show="!showDetails" class="tdcenter">
              <a href="#/feeds" ng-click="sortType = 'count'; sortReverse = !sortReverse">
              <b>Count
                <span ng-show="sortType == 'count' && !sortReverse" class="fa fa-caret-down"></span>
                <span ng-show="sortType == 'count' && sortReverse" class="fa fa-caret-up"></span></b>
            </td>
              <td width="16%" ng-show="!showDetails">
                <a href="#/feeds" ng-click="sortType = 'date'; sortReverse = !sortReverse">
                <b>Date
                  <span ng-show="sortType == 'date' && !sortReverse" class="fa fa-caret-down"></span>
                  <span ng-show="sortType == 'date' && sortReverse" class="fa fa-caret-up"></span></b>
              </td>

              <td> </td>
            </tr>


            </thead>
            <tbody ng-repeat="feed in feeds | orderBy:'date' | reverse | filter:searchFeeds">
          <tr>

            <!-- Opens Video -->
            <td width="15%">
              <a href ng-click="toggleDetail($index)" >
                <img src="{{ feed.thumb }}" class="img-thumbnail img-responsive" uib-tooltip="Click thumbnail to watch {{ feed.title }}">
                <div class="feed_vid_watch">WATCH</div>
              </a>
            </td>

            <!-- Clicks through child links -->
            <td width="35%" ng-click="show.links = !show.links">
              <b>{{ feed.title }}</b>
            </td>
            <td width="7%" ng-click="show.links = !show.links" class="tdcenter">
              {{ (links | filter:{ v: feed.v, active: true}).length }}
            </td>
            <td ng-click="show.links = !show.links">
              {{feed.date | date:'medium'}}
            </td>


            <!-- application actions -->
            <td class="feeds_actions">

              <a href ng-click="show.JSON = !show.JSON" class="feedtool" uib-tooltip="View JSON" >
                <img src="/images/images.jpg" width="36px">
              </a>
              <a href ng-click="show.XML = !show.XML" class="btn btn-primary feedtool" uib-tooltip="View XML/RSS" >
                <i style="width:12px;" class="fa fa-rss"></i>
              </a>
              <a href ng-click="show.Syndwire = !show.Syndwire" class="btn btn-warning feedtool" uib-tooltip="Promote with Syndwire">
                <i style="width:12px;" class="fa fa-rocket"></i>
              </a>
              <a href ng-click="show.indexer = !show.indexer" class="btn btn-info feedtool" uib-tooltip="Send to Indexers">
                <i style="width:12px;" class="fa fa-line-chart"></i>
              </a>
              <a href ng-click="show.booster = !show.booster" class="btn btn-info feedtool" uib-tooltip="Power Booster">
                <i style="width:12px;" style="width:14px;" class="fa fa-bolt"></i>
              </a>
              <a href ng-click="show.booster = !show.booster" class="feedtool" uib-tooltip="Pro Rank Tracker">
              <img src="/images/pro-rank-tracker-5f26ac-w240.png" width="35px">
                </a>
              <button type="button" ng-csv="links | filter:{ vid: feed.$id, active: true}" filename="{{ feed.title }}.csv" class="btn btn-success feedtool" uib-tooltip="Download feed as CSV" field-separator="," field-separator=".">
                <i style="width:12px;" class="fa fa-download"></i>
               </button>
              <a href ng-click="show.drip = !show.drip" class="btn btn-primary feedtool" uib-tooltip="Drip Social Record">
                <i style="width:12px;" class="fa fa-coffee"></i>
              </a>
              <a href="#/feed/{{feed.$id}}" class="btn btn-primary feedtool" uib-tooltip="View All Links">
                <i style="width:12px;" class="fa fa-pencil"></i>
              </a>
              <a href="#/feeds" ng-click="feeds.$remove(feed, deleteIt)" class="btn btn-danger feedtool" uib-tooltip="Delete Record">
                <i style="width:12px;" class="fa fa-trash"></i></a>
            </td>
          </tr>

          <!-- Video -->
          <tr ng-show="activePosition == $index">
          <td colspan="3"><youtube-video video-url="feed.url"  player-width="'100%'" player-width="'100%'"  player="bestPlayer"></youtube-video></td>
            <td colspan="2">
              <h4><b>Video Title:</b> {{ feed.title }}</h4>
            </td>
          </tr>

          <!-- Tools & links -->
          <tr ng-show="show.links" >
            <td colspan="5">
              <!-- Tools ** Not used but leave as alt for design change **-->
            </td>
          </tr>

          <!-- Tools -->
          <tr ng-show="show.links" ng-repeat="link in links | filter:{ vid: feed.$id, active: true}" class="links">
            <td colspan="1" class="link_row_fill">
              <!-- If t value is greater than zero -->
                 <a href="{{link.url}}{{feed.v}}&t={{feed.t}}" ng-if="feed.t > 0" target="_blank" class="btn btn-primary feedtool" uib-tooltip="Open Link">
                    <i class="fa fa-youtube-play"></i>
                 </a>
              <!-- If t value = zero or is null -->
                  <a href="{{link.url}}{{feed.v}}" ng-if="feed.t == 0" target="_blank" class="btn btn-primary feedtool" uib-tooltip="Open Link">
                    <i class="fa fa-youtube-play"></i>
                  </a>
              <!-- delete link ** needs confirm ** -->
                  <a href="#/feeds" ng-click="links.$remove(link, confirm)" class="btn btn-danger feedtool" uib-tooltip="Delete Link">
                    <i style="width:12px;" class="fa fa-trash"></i>
                  </a>
              <!-- add individual drip -->
              <a href ng-click="show.dripO = !show.dripO" class="btn btn-warning feedtool" uib-tooltip="Drip Social Starter">
                    <i  class="fa fa-coffee"></i>
                  </a>
            </td>
            <td colspan="2" >
                  <div class="link_header">{{link.title}}</div>
                  <div class=""><b>Link id</b> :: {{link.id}}</div>
                  <div ng-repeat="drip in drips | filter:{linkID: link.$id}">
                      <b>Schedule Social Starter</b> :: <!-- <a href="/#/drip/#{{drip.$id}}"> -->{{ drip.$id }}</a>
                  </div>
                    <br>
                    {{feed.$id}}
            </td>

            <td colspan="2" ng-init="limit = 300">
              {{link.desc | limitTo: limit}}
            </td>
          </tr>

          <!-- Show JSON -->
          <tr ng-show="show.JSON" class="JSON">
            <td colspan="5">
              <button class="btn btn-primary pull-right" ngclipboard data-clipboard-text="{{feed|json}}">
                <i class="fa fa-clipboard" aria-hidden="true"></i> Cut to clipboard
              </button>
              <h3>JSON</h3>

              <pre>
                <div id="rawJSON">
                {
                "feeds" :{{feed|json}}
                "links" :
                <div ng-repeat="link in links | filter:{ vid: feed.$id, active: true}">
                    {{link||json}}
                </div>
                }
                </div>
              </pre></td>


          </tr>

          <!-- Show XML -->
          <tr ng-show="show.XML" class="XML">
            <td colspan="5">
              <h3>XML</h3>
              <pre>{{feed|json}}</pre>

            </td>
          </tr>

          <!-- Syndwire -->
          <tr ng-show="show.Syndwire" class="Syndwire">
            <td colspan="5">Silly Syndwire</td>
          </tr>

          <!-- Add Social Stater / Drip -->
          <tr ng-show="show.drip" class="drip">

            <td colspan="2">
              <P>Schedule a drip for this video{{feed.$id}}</P>
              <!-- Add Social Stater / Drip Target-->
              <div class="uib-dropdown"><b>Target: </b>
                <ui-select ng-model="target.selected.id" theme="selectize">
                  <ui-select-match>
                    <span ng-bind="$select.selected.name"></span>
                  </ui-select-match>
                  <ui-select-choices repeat="t in (target | filter: $select.search) track by t.id">
                    <span ng-bind="t.name"></span>
                  </ui-select-choices>
                </ui-select>
              </div>
              <!-- Add Social Stater / Drip Frequency-->
              <b>Frequency:</b>
              <ui-select ng-model="frequency.selected.id" theme="selectize">
                <ui-select-match>
                  <span ng-bind="$select.selected.name"></span>
                </ui-select-match>
                <ui-select-choices repeat="f in (frequency | filter: $select.search) track by f.id">
                  <span ng-bind="f.name"></span>
                </ui-select-choices>
              </ui-select>
            </td>
            <td colspan="2"></td>
            <td colspan="1">
              <a href ng-click="addDrips(feed)" class="btn btn-primary pull-right" uib-tooltip="Drip Social Record">
                <i class="fa fa-coffee"> Schedule All Links for Social Starter</i>
              </a>

            </td>
          </tr>



          <!-- Indexer control -->
          <tr ng-show="show.indexer" class="indexer">
            <td colspan="3">Choose your indexer text or have damon do a video walking through this part of the tool</td>
            <td colspan="2">
          <select class="form-control input-lg" multiple="" name="pingers[]">
            <option selected="" value="pinger-lp">LinkProcessor - Integrated</option>
            <option selected="" value="pinger-bli">BacklinksIndexer</option>
            <option selected="" value="pinger-ci">CrazyIndexer</option>
            <option selected="" value="pinger-li">LinkIndexr</option>
          </select>

          <div class="form-group btn-group pull-right">
            <input class="btn btn-warning" type="reset" value="Reset">
            <input class="btn btn-primary" type="submit" value="Submit">
          </div>
            </td>
          </tr>

          <!-- Power Booster control -->
          <tr ng-show="show.booster" class="indexer">
            <td colspan="3">Choose your booster or have damon do a video walking through this part of the tool</td>
            <td colspan="2">
              <select class="form-control input-lg" multiple="" name="pingers[]">
                <option selected="" value="pinger-lp">LinkProcessor - Integrated</option>
                <option selected="" value="pinger-bli">BacklinksIndexer</option>
                <option selected="" value="pinger-ci">CrazyIndexer</option>
                <option selected="" value="pinger-li">LinkIndexr</option>
              </select>

              <div class="form-group btn-group pull-right">
                <input class="btn btn-warning" type="reset" value="Reset">
                <input class="btn btn-primary" type="submit" value="Submit">
              </div>
            </td>
          </tr>


          </tbody>

        </table>

    </div>

      <!-- No Data makes us sad -->
    <div id="feeds" ng-show="!feeds.length">You have no feeds and that makes us sad. Please click ping video to add a video and start your feeds. </div>
    <p class="alert alert-danger" ng-show="err">{{err}}</p>
  </div>







